v {xschem version=3.4.5 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
B 2 420 -1400 1820 -900 {flags=graph
y1=-0.07
y2=1.9
ypos1=0
ypos2=2
divy=10
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0
digital=0
rainbow=0






hilight_wave=3
color="7 17 6 9 10 11 12 13 8"
node="start
stop
dbg_dly[0]
dbg_dly[1]
dbg_dly[2]
dbg_dly[3]
dbg_dly[4]
dbg_dly[5]
dbg_dly[15]"}
B 2 420 -1980 1820 -1460 {flags=graph
y1=0
y2=2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0
digital=1


sim_type=tran
color="9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 7 7 7 7 7"
node="res_ctr[0]
res_ctr[1]
res_ctr[2]
res_ring[0]
res_ring[4]
res_ring[8]
res_ring[12]
res_ring[15]
res_ring[1]
res_ring[2]
res_ring[3]
res_ring[5]
res_ring[6]
res_ring[7]
res_ring[9]
res_ring[10]
res_ring[11]
res_ring[13]
res_ring[14]
dbg_dly[15]
dbg_dly[14]
dbg_dly[13]
dbg_dly[12]
dbg_dly[11]
dbg_dly[10]
dbg_dly[9]
dbg_dly[8]
dbg_dly[7]
dbg_dly[6]
dbg_dly[5]
dbg_dly[4]
dbg_dly[3]
dbg_dly[2]
dbg_dly[1]
dbg_dly[0]
stop
dbg_stop
dbg_ctr[0]
dbg_ctr[1]
dbg_ctr[2]"}
B 2 2040 -1360 2840 -960 {flags=graph
y1=0
y2=2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
node=dbg_dly[0]
color=13
dataset=-1
unitx=1
logx=0
logy=0
}
B 2 2040 -1800 2840 -1400 {flags=graph
y1=-0.098
y2=2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
node="dbg_dly[1]
dbg_dly[2]
dbg_dly[3]
dbg_dly[4]
dbg_dly[0]
dbg_dly[5]
dbg_dly[6]"
color="13 13 13 13 13 13 13"
dataset=-1
unitx=1
logx=0
logy=0
hilight_wave=0}
B 2 2040 -2250 2840 -1850 {flags=graph
y1=0
y2=2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0
color="13 13 13 13 13 13 13"
node="dbg_dly[13]
dbg_dly[12]
dbg_dly[11]
dbg_dly[10]
dbg_dly[9]
dbg_dly[8]
dbg_dly[7]"}
B 2 2040 -2690 2840 -2290 {flags=graph
y1=0
y2=2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
node=dbg_dly[8]
color=13
dataset=-1
unitx=1
logx=0
logy=0
}
B 2 2040 -3130 2840 -2730 {flags=graph
y1=0
y2=2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
node=dbg_dly[14]
color=13
dataset=-1
unitx=1
logx=0
logy=0
}
B 2 2040 -3580 2840 -3180 {flags=graph
y1=0
y2=2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
node=dbg_dly[15]
color=13
dataset=-1
unitx=1
logx=0
logy=0
}
B 2 410 -2580 1810 -2060 {flags=graph
y1=0
y2=2
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=5.3743909e-07
x2=5.4095191e-07
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0
digital=1


sim_type=tran
color="9 9 9 13 13"
node="res_ctr[0]
res_ctr[1]
res_ctr[2]
start
stop"}
N 340 -140 340 -120 {
lab=GND}
N 1330 -360 1330 -340 {
lab=GND}
N 340 -220 340 -200 {
lab=VDD}
N 640 -320 640 -310 {
lab=GND}
N 840 -310 840 -300 {
lab=GND}
N 840 -400 1130 -400 {
lab=stop}
N 840 -400 840 -370 {
lab=stop}
N 1820 -280 1820 -240 {
lab=GND}
N 1510 -420 1580 -420 {
lab=res_ring[15:0]}
N 1820 -420 1820 -340 {
lab=res_ring[15:0]}
N 640 -420 1130 -420 {
lab=start}
N 640 -420 640 -380 {
lab=start}
N 1330 -600 1330 -560 {
lab=VDD}
N 1580 -420 1820 -420 {
lab=res_ring[15:0]}
N 1660 -280 1660 -240 {
lab=GND}
N 1510 -400 1660 -400 {
lab=res_ctr[2:0]}
N 1660 -400 1660 -340 {
lab=res_ctr[2:0]}
N 2140 -280 2140 -240 {
lab=GND}
N 1980 -280 1980 -240 {
lab=GND}
N 1510 -460 1980 -460 {
lab=dbg_dly[15:0]}
N 1980 -460 1980 -340 {
lab=dbg_dly[15:0]}
N 1510 -480 2140 -480 {
lab=dbg_ctr[2:0]}
N 2140 -480 2140 -340 {
lab=dbg_ctr[2:0]}
N 2280 -280 2280 -240 {
lab=GND}
N 1510 -500 2280 -500 {
lab=dbg_stop}
N 2280 -500 2280 -340 {
lab=dbg_stop}
C {devices/title.sym} 160 -30 0 0 {name=l1 author="Harald Pretl, IIC @ JKU"}
C {devices/vdd.sym} 340 -220 0 0 {name=l2 lab=VDD}
C {devices/gnd.sym} 340 -120 0 0 {name=l3 lab=GND}
C {devices/simulator_commands.sym} 210 -570 0 0 {name=COMMANDS
simulator=ngspice
only_toplevel=false 
value="
* ngspice commands
****************

****************
* Misc
****************
.param fclk=10MEG
.options method=gear maxord=2
.temp 30

.control
set num_threads=6
tran 0.01n 600n

write tb_tt06_tdc.raw

*exit
.endc
"}
C {devices/gnd.sym} 1330 -340 0 0 {name=l8 lab=GND}
C {devices/vdd.sym} 1330 -600 0 0 {name=l9 lab=VDD}
C {devices/vsource.sym} 640 -350 0 0 {name=VSTART value="0 pwl(0 0 500n 0 500.1n 1.8)"}
C {devices/gnd.sym} 640 -310 0 0 {name=l10 lab=GND}
C {devices/spice_probe.sym} 640 -420 0 0 {name=p1 attrs=""}
C {devices/vsource.sym} 840 -340 0 0 {name=VSTOP value="0 pwl(0 0 100n 1.8 200n 1.8 200.1n 0 540n 0 540.1n 1.8)"}
C {devices/gnd.sym} 840 -300 0 0 {name=l13 lab=GND}
C {devices/spice_probe.sym} 840 -400 0 0 {name=p2 attrs=""}
C {devices/lab_wire.sym} 900 -400 0 1 {name=l14 sig_type=std_logic lab=stop}
C {devices/code.sym} 210 -750 0 0 {name=TT_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
** opencircuitdesign pdks install
.lib $::SKYWATER_MODELS/sky130.lib.spice tt

"
spice_ignore=false}
C {devices/capa.sym} 1820 -310 0 0 {name=Cload1[15:0]
m=1
value=10f}
C {devices/gnd.sym} 1820 -240 0 0 {name=l15 lab=GND}
C {devices/lab_wire.sym} 1540 -420 0 1 {name=l16 sig_type=std_logic lab=res_ring[15:0]}
C {devices/spice_probe.sym} 1820 -380 0 0 {name=p3 attrs=""}
C {devices/lab_wire.sym} 900 -420 0 1 {name=l4 sig_type=std_logic lab=start}
C {devices/launcher.sym} 300 -320 0 0 {name=h5
descr="load waves" 
tclcommand="xschem raw_read $netlist_dir/tb_tt06_tdc.raw tran"
}
C {devices/spice_probe.sym} 340 -210 0 0 {name=p4 attrs=""}
C {devices/vsource.sym} 340 -170 0 0 {name=VDAC2 value="0 pwl(0 0 100n 1.8)"}
C {devices/launcher.sym} 300 -380 0 0 {name=h2 
descr="simulate" 
tclcommand="xschem save; xschem netlist; xschem simulate"}
C {devices/capa.sym} 1660 -310 0 0 {name=Cload2[2:0]
m=1
value=10f}
C {devices/gnd.sym} 1660 -240 0 0 {name=l5 lab=GND}
C {devices/lab_wire.sym} 1540 -400 0 1 {name=l6 sig_type=std_logic lab=res_ctr[2:0]}
C {devices/spice_probe.sym} 1660 -380 0 0 {name=p5 attrs=""}
C {/foss/designs/sim/tdc_ring.sym} 1150 -380 0 0 {name=x1}
C {devices/capa.sym} 2140 -310 0 0 {name=Cload3[2:0]
m=1
value=0.1f}
C {devices/gnd.sym} 2140 -240 0 0 {name=l7 lab=GND}
C {devices/capa.sym} 1980 -310 0 0 {name=Cload4[15:0]
m=1
value=0.1f}
C {devices/gnd.sym} 1980 -240 0 0 {name=l11 lab=GND}
C {devices/lab_wire.sym} 1540 -460 0 1 {name=l12 sig_type=std_logic lab=dbg_dly[15:0]}
C {devices/spice_probe.sym} 1980 -380 0 0 {name=p6 attrs=""}
C {devices/lab_wire.sym} 1540 -480 0 1 {name=l17 sig_type=std_logic lab=dbg_ctr[2:0]}
C {devices/spice_probe.sym} 2140 -380 0 0 {name=p7 attrs=""}
C {devices/capa.sym} 2280 -310 0 0 {name=Cload5
m=1
value=0.1f}
C {devices/gnd.sym} 2280 -240 0 0 {name=l18 lab=GND}
C {devices/lab_wire.sym} 1540 -500 0 1 {name=l20 sig_type=std_logic lab=dbg_stop}
C {devices/spice_probe.sym} 2280 -380 0 0 {name=p8 attrs=""}
